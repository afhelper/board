<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>까당트 시그니처 검색 v250813</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
        }

        #songTable th.sort-asc::after {
            content: ' ▲';
            font-size: 0.8em;
        }

        #songTable th.sort-desc::after {
            content: ' ▼';
            font-size: 0.8em;
        }
    </style>
</head>

<body
    class="bg-gray-100 text-gray-800 min-h-[100dvh] flex flex-col items-center justify-center p-4 sm:p-6 selection:bg-blue-500 selection:text-white">

    <div class="bg-white shadow-xl rounded-xl p-6 sm:p-8 w-full max-w-2xl flex flex-col">
        <img src="7675.jpg" alt="로고" class="mx-auto mb-6 max-w-xs">

        <input type="text" id="searchInput" placeholder="곡 제목 또는 개수로 검색 (예: 마티니 또는 2022)"
            class="w-full p-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-400 text-base sm:text-lg mb-6 shadow-sm transition-all duration-150 ease-in-out">

        <div
            class="overflow-x-auto rounded-lg shadow-md border border-gray-200 overflow-y-auto min-h-[16rem] max-h-[50dvh] sm:max-h-[calc(100dvh-280px)]">
            <table id="songTable" class="w-full text-sm sm:text-base">
                <thead class="sticky top-0 bg-gray-200 z-10">
                    <tr>
                        <th data-sort="price"
                            class="p-3 text-left font-semibold text-gray-700 cursor-pointer hover:bg-gray-300 transition-colors duration-150 w-1/4 sm:w-1/5">
                            개수</th>
                        <th data-sort="title"
                            class="p-3 text-left font-semibold text-gray-700 cursor-pointer hover:bg-gray-300 transition-colors duration-150">
                            곡 제목</th>
                    </tr>
                </thead>
                <tbody id="songList" class="divide-y divide-gray-200 bg-white">
                </tbody>
            </table>
        </div>
        <p class="text-xs text-gray-500 text-center mt-4">총 <span id="songCount">0</span>개의 곡이 있습니다.</p>
    </div>


    <script>
        const rawSongData = `
500	괜찮아
501	너와의모든지금
502	딱풀
503	Live It Up
504	외모 CHECK!
505	사랑받을준비완
506	모찌송
507	카리나 닮았대
508	Pookie
509	이안챌린지
510	귀여워서미안해
511	Before After
512	이라이라
513	귀엽기만해선..
514	첫눈
515	팬서비스
516	Tick-Tack
517	삐끼삐끼
518	버블
519	UP!(호영레이블)
520	주차금지
521	I AM
522	진압해
523	Come On!
524	Golden
525	XXL
526	옴브리뉴
527	짧은치마
528	솜사탕
529	이머전시
530	빌려온 고양이
531	테디베어
532	아로아로
533	APT
534	벌룬인럽
535	TIP TOE
536	풍덩
537	붐붐베이스
538	퐁퐁
539	포켓몬
540	버터플라이
541	샤인
542	무아
543	마그네틱
546	지금 우리
547	푸른산호초
548	런던
550	제로투
551	Babe Like That
552	고민중독
553	포켓라켓
554	빛을따라서
555	How Sweet
556	Sticky
557	나랑사귈래
558	미니타코개
560	어마어마해
561	뜨거워지자
564	O.O.O
565	Supernova
566	UCHIDA1
567	오빠달려붕붕
568	Trumpet Star
569	Love 119
570	패션시티
571	Not Like Us
572	LOVE ATTACK
573	바람피면D짐
574	아이스크림
575	따봉쇼
576	팅커벨
577	반해
578	자기야 화풀어
579	홈스윗홈
580	어둠챌린지
581	이뻐이뻐
582	Mi Gente
583	UP(카리나)
584	아무래도 난
585	바니바니
586	으르렁
587	위플래시
588	Stack It Up
589	개나리공원
590	어폴로지
591	소다팝
592	미니뽀짝개
593	미국가있어
594	펌업더볼륨
595	스모크
596	Gravity
597	JUMP remix
600	WOP
601	홈스윗홈
602	LSD v2
603	퉁퉁퉁사후르
604	간바레센빠이
605	왠지
606	왜요왜요
607	첫 만남은...
608	러브쉐이크
609	차 마실래?
610	패스트카
611	WOP
612	Gasolin Bounce
613	최애의아이
614	코카인
615	내가S면 넌N
616	씨띵리믹스
617	세일러문
618	씨띵리믹스v2
619	잭슨
620	MEOW
621	Lalala
622	꿈빛파티시엘
623	레비테이팅
624	이쿠욧
625	사인은 B!
626	유진이의난
627	알려줄게
628	새드섬타임즈
629	마퍼키
630	오빠바이러스
631	아헤가오
632	나루토
633	Show
635	한발짝 두발짝
637	만찬가
639	대구
640	Without You
641	숏뚜꾸개
642	너라면좋겠어
643	공주들은원래그래
644	Royalty
645	우유
646	샤카보
647	GMM
648	잭팟
649	L.S.D
650	헨타이
652	사이코
653	진행시켜
655	할것
656	댄스컨트롤
662	댄스플로어
665	Tattoo
666	청신호
668	공주들아
669	지멘지멘
670	Sad Boy
671	촉촉착착
672	나루토리믹스
673	라타타
674	브링방방봉
675	밤을달리다
676	크레파스
678	위아레전드
679	광징어게임
680	다과치 광우업
681	루니솔라
683	Big Love
685	에블탐위터치
686	Beggin'
687	슈퍼삐끼
688	위너위너치킨디너
690	공중제비
691	염색체
692	오프더레코드
693	오빠 나 해도 돼?
694	슈퍼오빠달려
695	웨이백홈
696	like JENNIE
698	스테이
699	1995
700	킵유마인
727	체인드투더리듬
828	쁘띠당마
888	파파파
911	큰불
919	숏페이커
998	음탕한폭멘
999	폭스나인
1000	지코토닉
1001	IGNITE
1002	예술이야
1003	시드니
1004	셀레스티얼
1005	천오랑개
1006	탑플레이스
1007	망치
1008	태양S
1009	탱구
1010	대장
1011	웬아이겟올드
1012	업타운펑크
1014	감나무개
1018	빠땀빠땀
1019	김떡락개
1020	러너개
1021	에스더케이리
1022	둘리
1023	파라다이스
1024	독새
1025	시초마
1026	퓨쳐캔디
1027	뉴까스개
1028	김뚜꾸개
1029	요기내자리
1031	Money
1032	백돌
1033	슈퍼노바
1037	오승환
1040	추니업
1042	터미널
1044	라네트개
1045	립v
1047	루피L
1050	백으킹
1054	방송볼거없Na
1055	조조페이
1057	호치민오티씨
1062	파이널러브송
1066	룰루개
1069	앵무새69
1072	슬하아줌마
1078	뉴철박
1081	풍맛달달
1082	PYRO
1084	만개화
1085	빳따킹
1087	반조흐개
1088	Enough
1089	소년개
1092	본디지
1097	퉁퉁이개
1098	인터스텔라
1099	개굴개
1100	반포대교
1101	슈가
1102	진격의 거인
1105	미풍
1107	히소리
1111	바코드개
1112	휘슬
1117	최코개
1118	개성깔아가씨
1119	휘슬
1121	테디
1122	슈퍼따따블
1123	토마스열차
1125	이오
1126	실물깡패트유
1137	석촌
1145	세모랑네모랑
1147	분수쇼박광우
1149	타코야끼.
1154	셀린
1157	봄비
1158	도파민
1160	apm
1170	즈앙
1172	Destiny
1173	곰드루
1182	+82011
1186	블루
1187	패기
1188	슈퍼솜사탕
1189	STONE대가리
1191	슈퍼스모크
1199	강태풍
1212	원이
1222	마르지엘라이개
1225	교도소
1228	라이즈
1233	언제나상한가
1234	돌아온 김손절
1262	킴리뉴
1265	NUA_
1275	ritual
1280	슈퍼뻑킹뱅어
1288	뭐가튼박광우
1300	토니슥타크
1309	슈퍼헨타이
1311	등목
1333	래드까팻
1340	아툰무신
1373	스타워킨
1402	슈퍼제로투
1442	살아있네
1444	세비지개
1474	스키스키개
1515	오너개
1555	시그니엘스개
1575	댄스몽키
1595	호구련개
1666	예멘개
1696	작은 골타69
1727	까스개
1770	삼성동김유신개
1777	윈드
1778	조까치오빠야
1821	부티루즈
1828	주당블리
1878	덴멘개
1888	큐티뽀짝빛나
1919	작은페이커개
1999	큰폭스나인
2000	슈퍼클라스
2005	큰천오랑개
2011	계엄령
2022	마티니
2023	셀럽
2024	큰김떡락개
2025	As I Love You
2029	큰김뚜꾸개
2044	큰 라네트
2047	큰 루피개
2048	사기캐
2078	디스코테카
2080	갓팔멘개
2081	큰 +82011
2082	청담개
2089	큰 소년개
2123	큰 상한가
2222	큰 마르지엘라이
2262	큰 킴리뉴개
2300	큰 토니슥타크개
2424	레전드페이커
2444	큰 세비지개
2474	큰 스키스키
2696	골타69
2727	큰까멘개
2777	클라노이드
2828	큰주당블리
2878	슈퍼핵펀치개
2888	티미시아나
2927	슈퍼까멘개
2929	큰 페이커개
2999	큰 예멘
3000	킹제네럴갓
3140	웰컴투더쇼
3232	래꿍
3333	테킬라(큰 한잔)
10000	큰지코토닉
        `;

        let songs = [];
        let currentSortColumn = 'price';
        let isSortAscending = true;
        const songCountElement = document.getElementById('songCount');

        const targetPrices = [];

        function parseSongs() {
            const lines = rawSongData.trim().split('\n');
            const songPattern = /^(\d+)\s+(.+)$/;
            songs = lines.map(line => {
                const match = line.trim().match(songPattern);
                if (match) {
                    return { price: parseInt(match[1]), title: match[2].trim() };
                }
                return null;
            }).filter(song => song !== null);
            songCountElement.textContent = songs.length;
        }

        // ✨ 수정된 displaySongs 함수 ✨
        function displaySongs(songsToDisplay) {
            const songListElement = document.getElementById('songList');
            songListElement.innerHTML = '';

            if (songsToDisplay.length === 0) {
                const row = songListElement.insertRow();
                const cell = row.insertCell();
                cell.colSpan = 2;
                cell.textContent = '검색 결과가 없습니다.';
                cell.className = 'p-4 text-center text-gray-500 italic';
                return;
            }

            songsToDisplay.forEach(song => {
                const row = songListElement.insertRow();
                row.className = 'hover:bg-gray-50 transition-colors duration-150 ease-in-out';

                const priceCell = row.insertCell();
                const titleCell = row.insertCell();

                // 가격 텍스트를 먼저 추가 (뱃지와 공간을 두기 위해)
                priceCell.appendChild(document.createTextNode(song.price));
                priceCell.className = 'p-3 text-gray-700';

                // targetPrices에 포함된 가격이면 "New!" 뱃지 추가
                if (targetPrices.includes(song.price)) {
                    const newBadge = document.createElement('span');
                    newBadge.textContent = 'New!';
                    // Tailwind CSS를 사용한 뱃지 스타일링
                    newBadge.className = 'bg-red-500 text-white text-xs font-semibold px-1.5 py-0.5 rounded-full ml-2 align-middle';
                    priceCell.appendChild(newBadge); // 가격 셀에 뱃지 추가
                }

                titleCell.textContent = song.title;
                titleCell.className = 'p-3 text-gray-900';
            });
        }

        function updateSortIndicators() {
            document.querySelectorAll('#songTable th').forEach(th => {
                th.classList.remove('sort-asc', 'sort-desc', 'text-blue-600');
                th.classList.add('text-gray-700');
                if (th.dataset.sort === currentSortColumn) {
                    th.classList.add(isSortAscending ? 'sort-asc' : 'sort-desc');
                    th.classList.remove('text-gray-700');
                    th.classList.add('text-blue-600');
                }
            });
        }

        function sortSongs(column, initialLoad = false) {
            if (!initialLoad) {
                if (currentSortColumn === column) {
                    isSortAscending = !isSortAscending;
                } else {
                    currentSortColumn = column;
                    isSortAscending = true;
                }
            } else {
                currentSortColumn = column;
            }

            const songsToSort = [...songs];
            songsToSort.sort((a, b) => {
                let valA = a[column];
                let valB = b[column];
                if (typeof valA === 'string') {
                    valA = valA.toLowerCase();
                    valB = valB.toLowerCase();
                }
                if (valA < valB) return isSortAscending ? -1 : 1;
                if (valA > valB) return isSortAscending ? 1 : -1;
                return 0;
            });
            songs = songsToSort;
            updateSortIndicators();
            filterAndDisplaySongs();
        }

        function filterAndDisplaySongs() {
            const searchInput = document.getElementById('searchInput');
            const searchTerm = searchInput.value.toLowerCase().trim();
            const filteredSongs = songs.filter(song => {
                // 제목 또는 개수(숫자를 문자로 바꿔서)에 검색어가 포함되어 있는지 확인
                return song.title.toLowerCase().includes(searchTerm) ||
                    String(song.price).includes(searchTerm);
            });
            displaySongs(filteredSongs);
        }

        document.addEventListener('DOMContentLoaded', () => {
            parseSongs();
            sortSongs(currentSortColumn, true);
            const searchInput = document.getElementById('searchInput');
            searchInput.addEventListener('input', filterAndDisplaySongs);
            document.querySelectorAll('#songTable th').forEach(headerCell => {
                headerCell.addEventListener('click', () => {
                    const columnToSort = headerCell.dataset.sort;
                    if (columnToSort) {
                        sortSongs(columnToSort);
                    }
                });
            });
        });
    </script>
</body>

</html>